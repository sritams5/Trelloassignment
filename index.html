<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>Trello Home</title>

  <!-- Bootstrap core CSS -->
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <link href="css/index.css" rel="stylesheet">
</head>

<body>

  <!-- Navigation -->
  <nav id="topnav" class="navbar navbar-dark bg-dark navbar-toggleable-md navbar-expand-md ">
    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <a class="navbar-brand" href="#"><img src="img/logo.png" alt="logo" id="brand" class="img-responsive"></a>
    <div class="collapse navbar-collapse" id="navbarCollapse">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item active">
          <a class="nav-link" href="#" active>Home </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="boards" href="#">Boards <span class="sr-only">(current)</span></a>
        </li>
        <!--<li class="nav-item">
        <a class="nav-link" href="#">Contact</a>
      </li> -->
    </ul>
    <!-- <form class="form-inline mt-2 mt-md-0">
    <input class="form-control mr-sm-2" type="text" placeholder="Search">
    <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
  </form> -->
</div>
</nav>

<!-- Page Content -->
<div class="container">
  <div class="row">
    <div class="p-2 col-md-4">
      <div class="card" style="width: 100%;text-align:center;" id="firstsection">
        <nav id="leftnav" class="navbar navbar-light navbar-expand-sm px-0 flex-row flex-nowrap card-body">
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarWEX" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="navbar-collapse collapse" id="navbarWEX">
            <div class="nav flex-sm-column flex-row flex-fill justify-content-center">
              <a class="nav-item nav-link card-title active" href="#">Home</a>
              <a class="nav-item nav-link card-title" href="boards.html">Boards</a>
            </div>
          </div>
        </nav>
      </div>
    </div>
    <div class="p-2 col-md-4">
      <div class="card" style="width: 100%;text-align:center;" id="secondsection">
        <img class="card-img-top" src="img/card1.svg" alt="Card image cap">
        <div class="card-body">
          <h5 class="card-title">Stay on track and up to date</h5>
          <p class="card-text">Invite people to boards and cards, leave comments, add due dates, and we'll show the most important activity here.</p>
        </div>
      </div>
    </div>
    <div class="p-2 col-md-4">
      <div class="card" style="width: 100%;text-align:center;" id="thirdsection">
        <div class="card-body">
          <button type="button" id="showBtn" class="btn btn-light col-sm-12 card-text" data-toggle="modal" data-target="#myModal">+ Create a Board</button>
        </div>
      </div>
    </div>
  </div>
  <!-- /.container -->
  <!-- loaded popover content -->
  <div class="hidden example-popover-content">
  	<ul class="list-group custom-popover" id="popoeverid" onclick="lang1(event);">
  		<!-- <li class="list-group-item listselclass" onclick="showTip(this)">Add Card...</li>
  		<li class="list-group-item listselclass" onclick="showTip(this)">Copy List...</li>
  		<li class="list-group-item listselclass" onclick="showTip(this)">Move List...</li>
  		<li class="list-group-item listselclass" onclick="showTip(this)">Archieve This List</li> -->
  	</ul>
  </div>

  <div class="hidden example-popover-title">
  	<h6>Boards</h6>
  </div>
  <!-- Modal -->
  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <!-- <h4 class="modal-title" id="myModalLabel">Modal title</h4> -->
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        </div>
        <div class="modal-body">
          <form>
            <div class="form-group">
              <!-- <label for="email">Email:</label> -->
              <input type="text" class="form-control" id="boardname" placeholder="Add board title" name="boardname"></input>
            </div>
            <!-- <div class="form-group">
              <label for="pwd">Password:</label>
              <input type="password" class="form-control" id="pwd" placeholder="Enter password" name="pswd">
            </div>
            <div class="form-group form-check">
              <label class="form-check-label">
                <input class="form-check-input" type="checkbox" name="remember"> Remember me
              </label>
            </div> -->
            <button type="submit" id="submit" class="btn btn-default">Submit</button>
          </form>
        </div>
        <!-- <div class="modal-footer"> -->
          <!-- <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Save changes</button> -->
        <!-- </div> -->
      </div>
    </div>
  </div>
  <!-- Bootstrap core JavaScript -->
  <script src="js/jquery.min.js"></script>
  <script src="js/popper.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script type="text/javascript">
  var boardname=document.getElementById('boardname');
  var modalBtn=document.getElementById('submit');
    boardname.addEventListener("keydown", function(event) {
    	// event.preventDefault();
      if(this.value.trim()!=""){
        modalBtn.className='btn btn-primary';
      }
    });
    $('#myModal').on('hidden.bs.modal', function () {
      boardname.value="";
      modalBtn.className='btn btn-default';
    });
    boardname.addEventListener("keyup", function(event) {
    	// event.preventDefault();
      if(this.value.trim()==""){
        this.value="";
        modalBtn.className='btn btn-default';
      }
    });
    modalBtn.addEventListener("click", function(event) {
      event.preventDefault();
      var val=boardname.value;
      if(val.trim()!=""){
        boardname.value="";
        if (localStorage.getItem('trelloboardkeys') === null) {
          localStorage.setItem('trelloboardkeys',val);
        }else{
          if((localStorage.getItem('trelloboardkeys').split('buntyy1buntyy')).indexOf(val) > -1){

          }else {
            localStorage.setItem('trelloboardkeys',localStorage.getItem('trelloboardkeys')+"buntyy1buntyy"+val);
          }
        }
        window.location.href = 'landing.html?boardname='+encodeURIComponent(val);
      }
    });

    var popoverpoint = document.getElementById('popoeverid');
    if (localStorage.getItem('trelloboardkeys') === null) {
    	// var poplistelemt=document.createElement('li');
    	// poplistelemt.className= 'list-group-item listselclass';
    	// var span = document.createElement('span');
    	// span.appendChild(document.createTextNode(boardnamehead));
    	// poplistelemt.appendChild(span);
    	// popoverpoint.appendChild(poplistelemt);
    }else{
    	var boardnames=localStorage.getItem('trelloboardkeys').split('buntyy1buntyy');
    	for(var i=0;i<boardnames.length;i++){
    		var poplistelemt=document.createElement('li');
    		poplistelemt.className= 'list-group-item listselclass';
    		var span = document.createElement('span');
    		span.appendChild(document.createTextNode(boardnames[i]));
    		// poplistelemt.addEventListener("click", function(event) {
    		// 	window.location.href = 'landing.html?boardname='+encodeURIComponent(event.target.textContent || event.target.innerText);
    		// });
    		poplistelemt.appendChild(span);
    		popoverpoint.appendChild(poplistelemt);
    	}
    }
    function lang1(event) {
    			 var target = event.target || event.srcElement;
    			 window.location.href = 'landing.html?boardname='+encodeURIComponent(event.target.textContent || event.target.innerText);
    	 }
    var head=document.getElementById('boards');
    head.setAttribute("data-trigger", "focus");

    $(head).popover({
    	html : true,
    	content: function() {
    		return $(".example-popover-content").html();
    	},
    	title: function() {
    		return $(".example-popover-title").html();
    	}
    });

  </script>
</body>

</html>
